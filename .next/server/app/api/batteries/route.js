/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/batteries/route";
exports.ids = ["app/api/batteries/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbatteries%2Froute&page=%2Fapi%2Fbatteries%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbatteries%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbatteries%2Froute&page=%2Fapi%2Fbatteries%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbatteries%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_src_app_api_batteries_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/batteries/route.ts */ \"(rsc)/./src/app/api/batteries/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/batteries/route\",\n        pathname: \"/api/batteries\",\n        filename: \"route\",\n        bundlePath: \"app/api/batteries/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/src/app/api/batteries/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_src_app_api_batteries_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZiYXR0ZXJpZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmJhdHRlcmllcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmJhdHRlcmllcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNLO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9hcHAvYXBpL2JhdHRlcmllcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYmF0dGVyaWVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYmF0dGVyaWVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9iYXR0ZXJpZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9hcHAvYXBpL2JhdHRlcmllcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbatteries%2Froute&page=%2Fapi%2Fbatteries%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbatteries%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/batteries/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/batteries/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db/schema */ \"(rsc)/./src/lib/db/schema.ts\");\n\n\n\n\n// GET all batteries\nasync function GET() {\n    try {\n        const batteries = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.memStorage.getBatteries();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(batteries);\n    } catch (error) {\n        console.error(\"Failed to fetch batteries:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch batteries\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST new battery\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate the request body\n        const validatedData = _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.insertBatterySchema.parse(body);\n        const newBattery = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.memStorage.createBattery(validatedData);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(newBattery, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Failed to create battery:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_3__.z.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Validation error\",\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to create battery\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9iYXR0ZXJpZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdEO0FBQ2xCO0FBQ2Q7QUFDOEI7QUFFdEQsb0JBQW9CO0FBQ2IsZUFBZUk7SUFDcEIsSUFBSTtRQUNGLE1BQU1DLFlBQVksTUFBTUosK0NBQVVBLENBQUNLLFlBQVk7UUFDL0MsT0FBT04scURBQVlBLENBQUNPLElBQUksQ0FBQ0Y7SUFDM0IsRUFBRSxPQUFPRyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9SLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBNEIsR0FDckM7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSxtQkFBbUI7QUFDWixlQUFlQyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRTCxJQUFJO1FBRS9CLDRCQUE0QjtRQUM1QixNQUFNTyxnQkFBZ0JYLCtEQUFtQkEsQ0FBQ1ksS0FBSyxDQUFDRjtRQUVoRCxNQUFNRyxhQUFhLE1BQU1mLCtDQUFVQSxDQUFDZ0IsYUFBYSxDQUFDSDtRQUNsRCxPQUFPZCxxREFBWUEsQ0FBQ08sSUFBSSxDQUFDUyxZQUFZO1lBQUVOLFFBQVE7UUFBSTtJQUNyRCxFQUFFLE9BQU9GLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFFM0MsSUFBSUEsaUJBQWlCTixrQ0FBQ0EsQ0FBQ2dCLFFBQVEsRUFBRTtZQUMvQixPQUFPbEIscURBQVlBLENBQUNPLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQW9CVyxTQUFTWCxNQUFNWSxNQUFNO1lBQUMsR0FDbkQ7Z0JBQUVWLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9WLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBMkIsR0FDcEM7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvYmF0dGVyaWVzL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IG1lbVN0b3JhZ2UgfSBmcm9tIFwiQC9saWIvZGJcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBpbnNlcnRCYXR0ZXJ5U2NoZW1hIH0gZnJvbSBcIkAvbGliL2RiL3NjaGVtYVwiO1xuXG4vLyBHRVQgYWxsIGJhdHRlcmllc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBiYXR0ZXJpZXMgPSBhd2FpdCBtZW1TdG9yYWdlLmdldEJhdHRlcmllcygpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihiYXR0ZXJpZXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggYmF0dGVyaWVzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggYmF0dGVyaWVzXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gUE9TVCBuZXcgYmF0dGVyeVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHZhbGlkYXRlZERhdGEgPSBpbnNlcnRCYXR0ZXJ5U2NoZW1hLnBhcnNlKGJvZHkpO1xuICAgIFxuICAgIGNvbnN0IG5ld0JhdHRlcnkgPSBhd2FpdCBtZW1TdG9yYWdlLmNyZWF0ZUJhdHRlcnkodmFsaWRhdGVkRGF0YSk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG5ld0JhdHRlcnksIHsgc3RhdHVzOiAyMDEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgYmF0dGVyeTpcIiwgZXJyb3IpO1xuICAgIFxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJWYWxpZGF0aW9uIGVycm9yXCIsIGRldGFpbHM6IGVycm9yLmVycm9ycyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGNyZWF0ZSBiYXR0ZXJ5XCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibWVtU3RvcmFnZSIsInoiLCJpbnNlcnRCYXR0ZXJ5U2NoZW1hIiwiR0VUIiwiYmF0dGVyaWVzIiwiZ2V0QmF0dGVyaWVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsIm5ld0JhdHRlcnkiLCJjcmVhdGVCYXR0ZXJ5IiwiWm9kRXJyb3IiLCJkZXRhaWxzIiwiZXJyb3JzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/batteries/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/index.ts":
/*!*****************************!*\
  !*** ./src/lib/db/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   memStorage: () => (/* binding */ memStorage)\n/* harmony export */ });\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/@neondatabase/serverless/index.mjs\");\n/* harmony import */ var drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/neon-http */ \"(rsc)/./node_modules/drizzle-orm/neon-http/driver.js\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./src/lib/db/schema.ts\");\n\n\n\n// Create a Neon client\nconst sql = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(process.env.DATABASE_URL);\n// Create a Drizzle client\nconst db = (0,drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__.drizzle)(sql, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\nclass MemStorage {\n    constructor(){\n        this.users = new Map();\n        this.batteries = new Map();\n        this.batteryHistories = new Map();\n        this.usagePatterns = new Map();\n        this.recommendations = new Map();\n        this.userCurrentId = 1;\n        this.batteryCurrentId = 1;\n        this.historyCurrentId = 1;\n        this.patternCurrentId = 1;\n        this.recommendationCurrentId = 1;\n        this.initializeDemoData();\n    }\n    async getUser(id) {\n        return this.users.get(id);\n    }\n    async getUserByUsername(username) {\n        for (const user of this.users.values()){\n            if (user.username === username) {\n                return user;\n            }\n        }\n        return undefined;\n    }\n    async createUser(insertUser) {\n        const id = this.userCurrentId++;\n        const user = {\n            ...insertUser,\n            id\n        };\n        this.users.set(id, user);\n        return user;\n    }\n    async getBatteries() {\n        return Array.from(this.batteries.values());\n    }\n    async getBattery(id) {\n        return this.batteries.get(id);\n    }\n    async createBattery(insertBattery) {\n        const id = this.batteryCurrentId++;\n        const battery = {\n            ...insertBattery,\n            id\n        };\n        this.batteries.set(id, battery);\n        return battery;\n    }\n    async updateBattery(id, batteryUpdate) {\n        const existingBattery = this.batteries.get(id);\n        if (!existingBattery) {\n            return undefined;\n        }\n        const updatedBattery = {\n            ...existingBattery,\n            ...batteryUpdate\n        };\n        this.batteries.set(id, updatedBattery);\n        return updatedBattery;\n    }\n    async deleteBattery(id) {\n        return this.batteries.delete(id);\n    }\n    async getBatteryHistory(batteryId) {\n        const result = [];\n        for (const history of this.batteryHistories.values()){\n            if (history.batteryId === batteryId) {\n                result.push(history);\n            }\n        }\n        return result.sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime());\n    }\n    async getBatteryHistoryFiltered(batteryId, startDate, endDate) {\n        const result = [];\n        for (const history of this.batteryHistories.values()){\n            if (history.batteryId === batteryId) {\n                const historyDate = new Date(history.date);\n                if (historyDate >= startDate && historyDate <= endDate) {\n                    result.push(history);\n                }\n            }\n        }\n        return result.sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime());\n    }\n    async createBatteryHistory(insertHistory) {\n        const id = this.historyCurrentId++;\n        const history = {\n            ...insertHistory,\n            id\n        };\n        this.batteryHistories.set(id, history);\n        return history;\n    }\n    async getUsagePattern(batteryId) {\n        for (const pattern of this.usagePatterns.values()){\n            if (pattern.batteryId === batteryId) {\n                return pattern;\n            }\n        }\n        return undefined;\n    }\n    async createUsagePattern(insertPattern) {\n        const id = this.patternCurrentId++;\n        const pattern = {\n            ...insertPattern,\n            id\n        };\n        this.usagePatterns.set(id, pattern);\n        return pattern;\n    }\n    async updateUsagePattern(id, patternUpdate) {\n        const existingPattern = this.usagePatterns.get(id);\n        if (!existingPattern) {\n            return undefined;\n        }\n        const updatedPattern = {\n            ...existingPattern,\n            ...patternUpdate\n        };\n        this.usagePatterns.set(id, updatedPattern);\n        return updatedPattern;\n    }\n    async getRecommendations(batteryId) {\n        const result = [];\n        for (const recommendation of this.recommendations.values()){\n            if (recommendation.batteryId === batteryId) {\n                result.push(recommendation);\n            }\n        }\n        return result;\n    }\n    async createRecommendation(insertRecommendation) {\n        const id = this.recommendationCurrentId++;\n        const recommendation = {\n            ...insertRecommendation,\n            id,\n            createdAt: new Date(),\n            resolved: false\n        };\n        this.recommendations.set(id, recommendation);\n        return recommendation;\n    }\n    async updateRecommendation(id, resolved) {\n        const existingRecommendation = this.recommendations.get(id);\n        if (!existingRecommendation) {\n            return undefined;\n        }\n        const updatedRecommendation = {\n            ...existingRecommendation,\n            resolved\n        };\n        this.recommendations.set(id, updatedRecommendation);\n        return updatedRecommendation;\n    }\n    initializeDemoData() {\n        // Example batteries\n        const battery1 = {\n            id: this.batteryCurrentId++,\n            name: \"Battery #1\",\n            serialNumber: \"BT-00123-XYZ\",\n            manufacturer: \"Coulomb Industries\",\n            model: \"LiPro 5000\",\n            type: \"Lithium-Ion\",\n            capacity: 5000,\n            purchaseDate: new Date(\"2024-02-15\"),\n            currentHealth: 92,\n            status: \"good\",\n            lastCharged: new Date(\"2024-05-10\"),\n            cycleCount: 25,\n            voltageNominal: 3.7,\n            image: \"/assets/battery-1.svg\",\n            location: \"Server Room A\"\n        };\n        const battery2 = {\n            id: this.batteryCurrentId++,\n            name: \"Battery #2\",\n            serialNumber: \"BT-00456-ABC\",\n            manufacturer: \"PowerCell\",\n            model: \"MaxCharge 7000\",\n            type: \"Lithium-Polymer\",\n            capacity: 7000,\n            purchaseDate: new Date(\"2023-09-05\"),\n            currentHealth: 78,\n            status: \"warning\",\n            lastCharged: new Date(\"2024-05-12\"),\n            cycleCount: 120,\n            voltageNominal: 3.85,\n            image: \"/assets/battery-2.svg\",\n            location: \"Main Control Panel\"\n        };\n        const battery3 = {\n            id: this.batteryCurrentId++,\n            name: \"Battery #3\",\n            serialNumber: \"BT-00789-DEF\",\n            manufacturer: \"ElectraPower\",\n            model: \"Long Life 4200\",\n            type: \"LiFePO4\",\n            capacity: 4200,\n            purchaseDate: new Date(\"2023-12-20\"),\n            currentHealth: 95,\n            status: \"good\",\n            lastCharged: new Date(\"2024-05-05\"),\n            cycleCount: 15,\n            voltageNominal: 3.2,\n            image: \"/assets/battery-3.svg\",\n            location: \"Backup System\"\n        };\n        const battery4 = {\n            id: this.batteryCurrentId++,\n            name: \"Battery #4\",\n            serialNumber: \"BT-01010-GHI\",\n            manufacturer: \"VoltaCore\",\n            model: \"Industrial 9500\",\n            type: \"Lithium-Ion\",\n            capacity: 9500,\n            purchaseDate: new Date(\"2023-06-10\"),\n            currentHealth: 65,\n            status: \"critical\",\n            lastCharged: new Date(\"2024-05-15\"),\n            cycleCount: 210,\n            voltageNominal: 3.7,\n            image: \"/assets/battery-4.svg\",\n            location: \"Mobile Unit #12\"\n        };\n        this.batteries.set(battery1.id, battery1);\n        this.batteries.set(battery2.id, battery2);\n        this.batteries.set(battery3.id, battery3);\n        this.batteries.set(battery4.id, battery4);\n        // Add historical data for each battery\n        this.addBatteryHistoricalData(1, 100, 12);\n        this.addBatteryHistoricalData(2, 95, 9);\n        this.addBatteryHistoricalData(3, 100, 6);\n        this.addBatteryHistoricalData(4, 90, 12);\n        // Example usage patterns\n        const pattern1 = {\n            id: this.patternCurrentId++,\n            batteryId: 1,\n            chargingFrequency: \"Every 2-3 days\",\n            averageDischargeRate: 0.5,\n            deepDischargeFrequency: \"Rare\",\n            usagePattern: \"Regular\",\n            environmentalConditions: \"Controlled\",\n            operatingTemperature: 22\n        };\n        const pattern2 = {\n            id: this.patternCurrentId++,\n            batteryId: 2,\n            chargingFrequency: \"Daily\",\n            averageDischargeRate: 0.8,\n            deepDischargeFrequency: \"Frequent\",\n            usagePattern: \"Heavy\",\n            environmentalConditions: \"Variable\",\n            operatingTemperature: 28\n        };\n        const pattern3 = {\n            id: this.patternCurrentId++,\n            batteryId: 3,\n            chargingFrequency: \"Weekly\",\n            averageDischargeRate: 0.3,\n            deepDischargeFrequency: \"Never\",\n            usagePattern: \"Light\",\n            environmentalConditions: \"Controlled\",\n            operatingTemperature: 20\n        };\n        const pattern4 = {\n            id: this.patternCurrentId++,\n            batteryId: 4,\n            chargingFrequency: \"Every 1-2 days\",\n            averageDischargeRate: 0.9,\n            deepDischargeFrequency: \"Very Frequent\",\n            usagePattern: \"Heavy and Irregular\",\n            environmentalConditions: \"Harsh\",\n            operatingTemperature: 35\n        };\n        this.usagePatterns.set(pattern1.id, pattern1);\n        this.usagePatterns.set(pattern2.id, pattern2);\n        this.usagePatterns.set(pattern3.id, pattern3);\n        this.usagePatterns.set(pattern4.id, pattern4);\n        // Example recommendations\n        const recommendation1 = {\n            id: this.recommendationCurrentId++,\n            batteryId: 1,\n            type: \"maintenance\",\n            message: \"Consider recalibrating battery sensors for optimal performance\",\n            createdAt: new Date(\"2024-05-01\"),\n            resolved: false\n        };\n        const recommendation2 = {\n            id: this.recommendationCurrentId++,\n            batteryId: 2,\n            type: \"warning\",\n            message: \"Reduce deep discharge frequency to extend battery life\",\n            createdAt: new Date(\"2024-04-15\"),\n            resolved: false\n        };\n        const recommendation3 = {\n            id: this.recommendationCurrentId++,\n            batteryId: 3,\n            type: \"info\",\n            message: \"Current usage pattern is optimal for this battery type\",\n            createdAt: new Date(\"2024-05-10\"),\n            resolved: true\n        };\n        const recommendation4 = {\n            id: this.recommendationCurrentId++,\n            batteryId: 4,\n            type: \"critical\",\n            message: \"Replace battery within 30 days - approaching end of useful life\",\n            createdAt: new Date(\"2024-04-20\"),\n            resolved: false\n        };\n        this.recommendations.set(recommendation1.id, recommendation1);\n        this.recommendations.set(recommendation2.id, recommendation2);\n        this.recommendations.set(recommendation3.id, recommendation3);\n        this.recommendations.set(recommendation4.id, recommendation4);\n    }\n    addBatteryHistoricalData(batteryId, initialHealth, months) {\n        const today = new Date();\n        let currentHealth = initialHealth;\n        for(let i = 0; i < months; i++){\n            const date = new Date(today);\n            date.setMonth(date.getMonth() - (months - i));\n            // Randomly decrease health over time\n            currentHealth -= Math.random() * 3;\n            // Random values for the history entry\n            const voltage = 3.2 + Math.random() * 1;\n            const temperature = 20 + Math.random() * 15;\n            const chargeLevel = 50 + Math.random() * 50;\n            const cycleCount = i * 2;\n            const historyEntry = {\n                id: this.historyCurrentId++,\n                batteryId,\n                date: date,\n                health: currentHealth,\n                voltage: voltage,\n                temperature: temperature,\n                chargeLevel: chargeLevel,\n                cycleCount\n            };\n            this.batteryHistories.set(historyEntry.id, historyEntry);\n        }\n    }\n}\nconst memStorage = new MemStorage();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUs7WUFDdEMsTUFBTUUsY0FBYyxLQUFLSCxLQUFLQyxNQUFNLEtBQUs7WUFDekMsTUFBTUcsY0FBYyxLQUFLSixLQUFLQyxNQUFNLEtBQUs7WUFDekMsTUFBTTlCLGFBQWEwQixJQUFJO1lBRXZCLE1BQU1RLGVBQStCO2dCQUNuQ3RHLElBQUksSUFBSSxDQUFDTCxnQkFBZ0I7Z0JBQ3pCNkI7Z0JBQ0FRLE1BQU1BO2dCQUNOdUUsUUFBUXRDO2dCQUNSa0MsU0FBU0E7Z0JBQ1RDLGFBQWFBO2dCQUNiQyxhQUFhQTtnQkFDYmpDO1lBQ0Y7WUFFQSxJQUFJLENBQUM5RSxnQkFBZ0IsQ0FBQ21CLEdBQUcsQ0FBQzZGLGFBQWF0RyxFQUFFLEVBQUVzRztRQUM3QztJQUNGO0FBQ0Y7QUFFTyxNQUFNRSxhQUFhLElBQUl2SCxhQUFhIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9saWIvZGIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbmVvbiB9IGZyb20gJ0BuZW9uZGF0YWJhc2Uvc2VydmVybGVzcyc7XG5pbXBvcnQgeyBkcml6emxlIH0gZnJvbSAnZHJpenpsZS1vcm0vbmVvbi1odHRwJztcbmltcG9ydCAqIGFzIHNjaGVtYSBmcm9tICcuL3NjaGVtYSc7XG5cbi8vIENyZWF0ZSBhIE5lb24gY2xpZW50XG5jb25zdCBzcWwgPSBuZW9uKHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCEpO1xuXG4vLyBDcmVhdGUgYSBEcml6emxlIGNsaWVudFxuZXhwb3J0IGNvbnN0IGRiID0gZHJpenpsZShzcWwsIHsgc2NoZW1hIH0pO1xuXG4vLyBNZW1vcnkgc3RvcmFnZSBmb3IgZGV2ZWxvcG1lbnQgKGZhbGxiYWNrIGlmIGRhdGFiYXNlIGlzIG5vdCBhdmFpbGFibGUpXG5pbXBvcnQge1xuICBCYXR0ZXJ5LFxuICBJbnNlcnRCYXR0ZXJ5LFxuICBCYXR0ZXJ5SGlzdG9yeSxcbiAgSW5zZXJ0QmF0dGVyeUhpc3RvcnksXG4gIFVzYWdlUGF0dGVybixcbiAgSW5zZXJ0VXNhZ2VQYXR0ZXJuLFxuICBSZWNvbW1lbmRhdGlvbixcbiAgSW5zZXJ0UmVjb21tZW5kYXRpb24sXG4gIFVzZXIsXG4gIEluc2VydFVzZXJcbn0gZnJvbSAnLi9zY2hlbWEnO1xuXG5jbGFzcyBNZW1TdG9yYWdlIHtcbiAgcHJpdmF0ZSB1c2VyczogTWFwPG51bWJlciwgVXNlcj47XG4gIHByaXZhdGUgYmF0dGVyaWVzOiBNYXA8bnVtYmVyLCBCYXR0ZXJ5PjtcbiAgcHJpdmF0ZSBiYXR0ZXJ5SGlzdG9yaWVzOiBNYXA8bnVtYmVyLCBCYXR0ZXJ5SGlzdG9yeT47XG4gIHByaXZhdGUgdXNhZ2VQYXR0ZXJuczogTWFwPG51bWJlciwgVXNhZ2VQYXR0ZXJuPjtcbiAgcHJpdmF0ZSByZWNvbW1lbmRhdGlvbnM6IE1hcDxudW1iZXIsIFJlY29tbWVuZGF0aW9uPjtcblxuICBwcml2YXRlIHVzZXJDdXJyZW50SWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBiYXR0ZXJ5Q3VycmVudElkOiBudW1iZXI7XG4gIHByaXZhdGUgaGlzdG9yeUN1cnJlbnRJZDogbnVtYmVyO1xuICBwcml2YXRlIHBhdHRlcm5DdXJyZW50SWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWNvbW1lbmRhdGlvbkN1cnJlbnRJZDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlcnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5iYXR0ZXJpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5iYXR0ZXJ5SGlzdG9yaWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMudXNhZ2VQYXR0ZXJucyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlY29tbWVuZGF0aW9ucyA9IG5ldyBNYXAoKTtcblxuICAgIHRoaXMudXNlckN1cnJlbnRJZCA9IDE7XG4gICAgdGhpcy5iYXR0ZXJ5Q3VycmVudElkID0gMTtcbiAgICB0aGlzLmhpc3RvcnlDdXJyZW50SWQgPSAxO1xuICAgIHRoaXMucGF0dGVybkN1cnJlbnRJZCA9IDE7XG4gICAgdGhpcy5yZWNvbW1lbmRhdGlvbkN1cnJlbnRJZCA9IDE7XG5cbiAgICB0aGlzLmluaXRpYWxpemVEZW1vRGF0YSgpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcihpZDogbnVtYmVyKTogUHJvbWlzZTxVc2VyIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMudXNlcnMuZ2V0KGlkKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJCeVVzZXJuYW1lKHVzZXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+IHtcbiAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdGhpcy51c2Vycy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHVzZXIudXNlcm5hbWUgPT09IHVzZXJuYW1lKSB7XG4gICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVXNlcihpbnNlcnRVc2VyOiBJbnNlcnRVc2VyKTogUHJvbWlzZTxVc2VyPiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLnVzZXJDdXJyZW50SWQrKztcbiAgICBjb25zdCB1c2VyOiBVc2VyID0geyAuLi5pbnNlcnRVc2VyLCBpZCB9O1xuICAgIHRoaXMudXNlcnMuc2V0KGlkLCB1c2VyKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIGFzeW5jIGdldEJhdHRlcmllcygpOiBQcm9taXNlPEJhdHRlcnlbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYmF0dGVyaWVzLnZhbHVlcygpKTtcbiAgfVxuXG4gIGFzeW5jIGdldEJhdHRlcnkoaWQ6IG51bWJlcik6IFByb21pc2U8QmF0dGVyeSB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLmJhdHRlcmllcy5nZXQoaWQpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlQmF0dGVyeShpbnNlcnRCYXR0ZXJ5OiBJbnNlcnRCYXR0ZXJ5KTogUHJvbWlzZTxCYXR0ZXJ5PiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmJhdHRlcnlDdXJyZW50SWQrKztcbiAgICBjb25zdCBiYXR0ZXJ5ID0geyAuLi5pbnNlcnRCYXR0ZXJ5LCBpZCB9IGFzIEJhdHRlcnk7XG4gICAgdGhpcy5iYXR0ZXJpZXMuc2V0KGlkLCBiYXR0ZXJ5KTtcbiAgICByZXR1cm4gYmF0dGVyeTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUJhdHRlcnkoaWQ6IG51bWJlciwgYmF0dGVyeVVwZGF0ZTogUGFydGlhbDxJbnNlcnRCYXR0ZXJ5Pik6IFByb21pc2U8QmF0dGVyeSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nQmF0dGVyeSA9IHRoaXMuYmF0dGVyaWVzLmdldChpZCk7XG4gICAgaWYgKCFleGlzdGluZ0JhdHRlcnkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRCYXR0ZXJ5ID0geyAuLi5leGlzdGluZ0JhdHRlcnksIC4uLmJhdHRlcnlVcGRhdGUgfSBhcyBCYXR0ZXJ5O1xuICAgIHRoaXMuYmF0dGVyaWVzLnNldChpZCwgdXBkYXRlZEJhdHRlcnkpO1xuICAgIHJldHVybiB1cGRhdGVkQmF0dGVyeTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUJhdHRlcnkoaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmJhdHRlcmllcy5kZWxldGUoaWQpO1xuICB9XG5cbiAgYXN5bmMgZ2V0QmF0dGVyeUhpc3RvcnkoYmF0dGVyeUlkOiBudW1iZXIpOiBQcm9taXNlPEJhdHRlcnlIaXN0b3J5W10+IHtcbiAgICBjb25zdCByZXN1bHQ6IEJhdHRlcnlIaXN0b3J5W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGhpc3Rvcnkgb2YgdGhpcy5iYXR0ZXJ5SGlzdG9yaWVzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoaGlzdG9yeS5iYXR0ZXJ5SWQgPT09IGJhdHRlcnlJZCkge1xuICAgICAgICByZXN1bHQucHVzaChoaXN0b3J5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZGF0ZSkuZ2V0VGltZSgpKTtcbiAgfVxuXG4gIGFzeW5jIGdldEJhdHRlcnlIaXN0b3J5RmlsdGVyZWQoYmF0dGVyeUlkOiBudW1iZXIsIHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSk6IFByb21pc2U8QmF0dGVyeUhpc3RvcnlbXT4ge1xuICAgIGNvbnN0IHJlc3VsdDogQmF0dGVyeUhpc3RvcnlbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgaGlzdG9yeSBvZiB0aGlzLmJhdHRlcnlIaXN0b3JpZXMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChoaXN0b3J5LmJhdHRlcnlJZCA9PT0gYmF0dGVyeUlkKSB7XG4gICAgICAgIGNvbnN0IGhpc3RvcnlEYXRlID0gbmV3IERhdGUoaGlzdG9yeS5kYXRlKTtcbiAgICAgICAgaWYgKGhpc3RvcnlEYXRlID49IHN0YXJ0RGF0ZSAmJiBoaXN0b3J5RGF0ZSA8PSBlbmREYXRlKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goaGlzdG9yeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZGF0ZSkuZ2V0VGltZSgpKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUJhdHRlcnlIaXN0b3J5KGluc2VydEhpc3Rvcnk6IEluc2VydEJhdHRlcnlIaXN0b3J5KTogUHJvbWlzZTxCYXR0ZXJ5SGlzdG9yeT4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5oaXN0b3J5Q3VycmVudElkKys7XG4gICAgY29uc3QgaGlzdG9yeSA9IHsgLi4uaW5zZXJ0SGlzdG9yeSwgaWQgfSBhcyBCYXR0ZXJ5SGlzdG9yeTtcbiAgICB0aGlzLmJhdHRlcnlIaXN0b3JpZXMuc2V0KGlkLCBoaXN0b3J5KTtcbiAgICByZXR1cm4gaGlzdG9yeTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzYWdlUGF0dGVybihiYXR0ZXJ5SWQ6IG51bWJlcik6IFByb21pc2U8VXNhZ2VQYXR0ZXJuIHwgdW5kZWZpbmVkPiB7XG4gICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHRoaXMudXNhZ2VQYXR0ZXJucy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHBhdHRlcm4uYmF0dGVyeUlkID09PSBiYXR0ZXJ5SWQpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm47XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBhc3luYyBjcmVhdGVVc2FnZVBhdHRlcm4oaW5zZXJ0UGF0dGVybjogSW5zZXJ0VXNhZ2VQYXR0ZXJuKTogUHJvbWlzZTxVc2FnZVBhdHRlcm4+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMucGF0dGVybkN1cnJlbnRJZCsrO1xuICAgIGNvbnN0IHBhdHRlcm4gPSB7IC4uLmluc2VydFBhdHRlcm4sIGlkIH0gYXMgVXNhZ2VQYXR0ZXJuO1xuICAgIHRoaXMudXNhZ2VQYXR0ZXJucy5zZXQoaWQsIHBhdHRlcm4pO1xuICAgIHJldHVybiBwYXR0ZXJuO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlVXNhZ2VQYXR0ZXJuKGlkOiBudW1iZXIsIHBhdHRlcm5VcGRhdGU6IFBhcnRpYWw8SW5zZXJ0VXNhZ2VQYXR0ZXJuPik6IFByb21pc2U8VXNhZ2VQYXR0ZXJuIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgZXhpc3RpbmdQYXR0ZXJuID0gdGhpcy51c2FnZVBhdHRlcm5zLmdldChpZCk7XG4gICAgaWYgKCFleGlzdGluZ1BhdHRlcm4pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRQYXR0ZXJuID0geyAuLi5leGlzdGluZ1BhdHRlcm4sIC4uLnBhdHRlcm5VcGRhdGUgfSBhcyBVc2FnZVBhdHRlcm47XG4gICAgdGhpcy51c2FnZVBhdHRlcm5zLnNldChpZCwgdXBkYXRlZFBhdHRlcm4pO1xuICAgIHJldHVybiB1cGRhdGVkUGF0dGVybjtcbiAgfVxuXG4gIGFzeW5jIGdldFJlY29tbWVuZGF0aW9ucyhiYXR0ZXJ5SWQ6IG51bWJlcik6IFByb21pc2U8UmVjb21tZW5kYXRpb25bXT4ge1xuICAgIGNvbnN0IHJlc3VsdDogUmVjb21tZW5kYXRpb25bXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVjb21tZW5kYXRpb24gb2YgdGhpcy5yZWNvbW1lbmRhdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChyZWNvbW1lbmRhdGlvbi5iYXR0ZXJ5SWQgPT09IGJhdHRlcnlJZCkge1xuICAgICAgICByZXN1bHQucHVzaChyZWNvbW1lbmRhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBhc3luYyBjcmVhdGVSZWNvbW1lbmRhdGlvbihpbnNlcnRSZWNvbW1lbmRhdGlvbjogSW5zZXJ0UmVjb21tZW5kYXRpb24pOiBQcm9taXNlPFJlY29tbWVuZGF0aW9uPiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLnJlY29tbWVuZGF0aW9uQ3VycmVudElkKys7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb24gPSB7IFxuICAgICAgLi4uaW5zZXJ0UmVjb21tZW5kYXRpb24sIFxuICAgICAgaWQsIFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLCBcbiAgICAgIHJlc29sdmVkOiBmYWxzZSBcbiAgICB9IGFzIFJlY29tbWVuZGF0aW9uO1xuICAgIHRoaXMucmVjb21tZW5kYXRpb25zLnNldChpZCwgcmVjb21tZW5kYXRpb24pO1xuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbjtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVJlY29tbWVuZGF0aW9uKGlkOiBudW1iZXIsIHJlc29sdmVkOiBib29sZWFuKTogUHJvbWlzZTxSZWNvbW1lbmRhdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nUmVjb21tZW5kYXRpb24gPSB0aGlzLnJlY29tbWVuZGF0aW9ucy5nZXQoaWQpO1xuICAgIGlmICghZXhpc3RpbmdSZWNvbW1lbmRhdGlvbikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlZFJlY29tbWVuZGF0aW9uID0geyAuLi5leGlzdGluZ1JlY29tbWVuZGF0aW9uLCByZXNvbHZlZCB9IGFzIFJlY29tbWVuZGF0aW9uO1xuICAgIHRoaXMucmVjb21tZW5kYXRpb25zLnNldChpZCwgdXBkYXRlZFJlY29tbWVuZGF0aW9uKTtcbiAgICByZXR1cm4gdXBkYXRlZFJlY29tbWVuZGF0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplRGVtb0RhdGEoKSB7XG4gICAgLy8gRXhhbXBsZSBiYXR0ZXJpZXNcbiAgICBjb25zdCBiYXR0ZXJ5MTogQmF0dGVyeSA9IHtcbiAgICAgIGlkOiB0aGlzLmJhdHRlcnlDdXJyZW50SWQrKyxcbiAgICAgIG5hbWU6IFwiQmF0dGVyeSAjMVwiLFxuICAgICAgc2VyaWFsTnVtYmVyOiBcIkJULTAwMTIzLVhZWlwiLFxuICAgICAgbWFudWZhY3R1cmVyOiBcIkNvdWxvbWIgSW5kdXN0cmllc1wiLFxuICAgICAgbW9kZWw6IFwiTGlQcm8gNTAwMFwiLFxuICAgICAgdHlwZTogXCJMaXRoaXVtLUlvblwiLFxuICAgICAgY2FwYWNpdHk6IDUwMDAgYXMgYW55LFxuICAgICAgcHVyY2hhc2VEYXRlOiBuZXcgRGF0ZShcIjIwMjQtMDItMTVcIikgYXMgYW55LFxuICAgICAgY3VycmVudEhlYWx0aDogOTIgYXMgYW55LFxuICAgICAgc3RhdHVzOiBcImdvb2RcIixcbiAgICAgIGxhc3RDaGFyZ2VkOiBuZXcgRGF0ZShcIjIwMjQtMDUtMTBcIikgYXMgYW55LFxuICAgICAgY3ljbGVDb3VudDogMjUsXG4gICAgICB2b2x0YWdlTm9taW5hbDogMy43IGFzIGFueSxcbiAgICAgIGltYWdlOiBcIi9hc3NldHMvYmF0dGVyeS0xLnN2Z1wiLFxuICAgICAgbG9jYXRpb246IFwiU2VydmVyIFJvb20gQVwiXG4gICAgfTtcblxuICAgIGNvbnN0IGJhdHRlcnkyOiBCYXR0ZXJ5ID0ge1xuICAgICAgaWQ6IHRoaXMuYmF0dGVyeUN1cnJlbnRJZCsrLFxuICAgICAgbmFtZTogXCJCYXR0ZXJ5ICMyXCIsXG4gICAgICBzZXJpYWxOdW1iZXI6IFwiQlQtMDA0NTYtQUJDXCIsXG4gICAgICBtYW51ZmFjdHVyZXI6IFwiUG93ZXJDZWxsXCIsXG4gICAgICBtb2RlbDogXCJNYXhDaGFyZ2UgNzAwMFwiLFxuICAgICAgdHlwZTogXCJMaXRoaXVtLVBvbHltZXJcIixcbiAgICAgIGNhcGFjaXR5OiA3MDAwIGFzIGFueSxcbiAgICAgIHB1cmNoYXNlRGF0ZTogbmV3IERhdGUoXCIyMDIzLTA5LTA1XCIpIGFzIGFueSxcbiAgICAgIGN1cnJlbnRIZWFsdGg6IDc4IGFzIGFueSxcbiAgICAgIHN0YXR1czogXCJ3YXJuaW5nXCIsXG4gICAgICBsYXN0Q2hhcmdlZDogbmV3IERhdGUoXCIyMDI0LTA1LTEyXCIpIGFzIGFueSxcbiAgICAgIGN5Y2xlQ291bnQ6IDEyMCxcbiAgICAgIHZvbHRhZ2VOb21pbmFsOiAzLjg1IGFzIGFueSxcbiAgICAgIGltYWdlOiBcIi9hc3NldHMvYmF0dGVyeS0yLnN2Z1wiLFxuICAgICAgbG9jYXRpb246IFwiTWFpbiBDb250cm9sIFBhbmVsXCJcbiAgICB9O1xuXG4gICAgY29uc3QgYmF0dGVyeTM6IEJhdHRlcnkgPSB7XG4gICAgICBpZDogdGhpcy5iYXR0ZXJ5Q3VycmVudElkKyssXG4gICAgICBuYW1lOiBcIkJhdHRlcnkgIzNcIixcbiAgICAgIHNlcmlhbE51bWJlcjogXCJCVC0wMDc4OS1ERUZcIixcbiAgICAgIG1hbnVmYWN0dXJlcjogXCJFbGVjdHJhUG93ZXJcIixcbiAgICAgIG1vZGVsOiBcIkxvbmcgTGlmZSA0MjAwXCIsXG4gICAgICB0eXBlOiBcIkxpRmVQTzRcIixcbiAgICAgIGNhcGFjaXR5OiA0MjAwIGFzIGFueSxcbiAgICAgIHB1cmNoYXNlRGF0ZTogbmV3IERhdGUoXCIyMDIzLTEyLTIwXCIpIGFzIGFueSxcbiAgICAgIGN1cnJlbnRIZWFsdGg6IDk1IGFzIGFueSxcbiAgICAgIHN0YXR1czogXCJnb29kXCIsXG4gICAgICBsYXN0Q2hhcmdlZDogbmV3IERhdGUoXCIyMDI0LTA1LTA1XCIpIGFzIGFueSxcbiAgICAgIGN5Y2xlQ291bnQ6IDE1LFxuICAgICAgdm9sdGFnZU5vbWluYWw6IDMuMiBhcyBhbnksXG4gICAgICBpbWFnZTogXCIvYXNzZXRzL2JhdHRlcnktMy5zdmdcIixcbiAgICAgIGxvY2F0aW9uOiBcIkJhY2t1cCBTeXN0ZW1cIlxuICAgIH07XG5cbiAgICBjb25zdCBiYXR0ZXJ5NDogQmF0dGVyeSA9IHtcbiAgICAgIGlkOiB0aGlzLmJhdHRlcnlDdXJyZW50SWQrKyxcbiAgICAgIG5hbWU6IFwiQmF0dGVyeSAjNFwiLFxuICAgICAgc2VyaWFsTnVtYmVyOiBcIkJULTAxMDEwLUdISVwiLFxuICAgICAgbWFudWZhY3R1cmVyOiBcIlZvbHRhQ29yZVwiLFxuICAgICAgbW9kZWw6IFwiSW5kdXN0cmlhbCA5NTAwXCIsXG4gICAgICB0eXBlOiBcIkxpdGhpdW0tSW9uXCIsXG4gICAgICBjYXBhY2l0eTogOTUwMCBhcyBhbnksXG4gICAgICBwdXJjaGFzZURhdGU6IG5ldyBEYXRlKFwiMjAyMy0wNi0xMFwiKSBhcyBhbnksXG4gICAgICBjdXJyZW50SGVhbHRoOiA2NSBhcyBhbnksXG4gICAgICBzdGF0dXM6IFwiY3JpdGljYWxcIixcbiAgICAgIGxhc3RDaGFyZ2VkOiBuZXcgRGF0ZShcIjIwMjQtMDUtMTVcIikgYXMgYW55LFxuICAgICAgY3ljbGVDb3VudDogMjEwLFxuICAgICAgdm9sdGFnZU5vbWluYWw6IDMuNyBhcyBhbnksXG4gICAgICBpbWFnZTogXCIvYXNzZXRzL2JhdHRlcnktNC5zdmdcIixcbiAgICAgIGxvY2F0aW9uOiBcIk1vYmlsZSBVbml0ICMxMlwiXG4gICAgfTtcblxuICAgIHRoaXMuYmF0dGVyaWVzLnNldChiYXR0ZXJ5MS5pZCwgYmF0dGVyeTEpO1xuICAgIHRoaXMuYmF0dGVyaWVzLnNldChiYXR0ZXJ5Mi5pZCwgYmF0dGVyeTIpO1xuICAgIHRoaXMuYmF0dGVyaWVzLnNldChiYXR0ZXJ5My5pZCwgYmF0dGVyeTMpO1xuICAgIHRoaXMuYmF0dGVyaWVzLnNldChiYXR0ZXJ5NC5pZCwgYmF0dGVyeTQpO1xuXG4gICAgLy8gQWRkIGhpc3RvcmljYWwgZGF0YSBmb3IgZWFjaCBiYXR0ZXJ5XG4gICAgdGhpcy5hZGRCYXR0ZXJ5SGlzdG9yaWNhbERhdGEoMSwgMTAwLCAxMik7XG4gICAgdGhpcy5hZGRCYXR0ZXJ5SGlzdG9yaWNhbERhdGEoMiwgOTUsIDkpO1xuICAgIHRoaXMuYWRkQmF0dGVyeUhpc3RvcmljYWxEYXRhKDMsIDEwMCwgNik7XG4gICAgdGhpcy5hZGRCYXR0ZXJ5SGlzdG9yaWNhbERhdGEoNCwgOTAsIDEyKTtcblxuICAgIC8vIEV4YW1wbGUgdXNhZ2UgcGF0dGVybnNcbiAgICBjb25zdCBwYXR0ZXJuMTogVXNhZ2VQYXR0ZXJuID0ge1xuICAgICAgaWQ6IHRoaXMucGF0dGVybkN1cnJlbnRJZCsrLFxuICAgICAgYmF0dGVyeUlkOiAxLFxuICAgICAgY2hhcmdpbmdGcmVxdWVuY3k6IFwiRXZlcnkgMi0zIGRheXNcIixcbiAgICAgIGF2ZXJhZ2VEaXNjaGFyZ2VSYXRlOiAwLjUgYXMgYW55LFxuICAgICAgZGVlcERpc2NoYXJnZUZyZXF1ZW5jeTogXCJSYXJlXCIsXG4gICAgICB1c2FnZVBhdHRlcm46IFwiUmVndWxhclwiLFxuICAgICAgZW52aXJvbm1lbnRhbENvbmRpdGlvbnM6IFwiQ29udHJvbGxlZFwiLFxuICAgICAgb3BlcmF0aW5nVGVtcGVyYXR1cmU6IDIyIGFzIGFueVxuICAgIH07XG5cbiAgICBjb25zdCBwYXR0ZXJuMjogVXNhZ2VQYXR0ZXJuID0ge1xuICAgICAgaWQ6IHRoaXMucGF0dGVybkN1cnJlbnRJZCsrLFxuICAgICAgYmF0dGVyeUlkOiAyLFxuICAgICAgY2hhcmdpbmdGcmVxdWVuY3k6IFwiRGFpbHlcIixcbiAgICAgIGF2ZXJhZ2VEaXNjaGFyZ2VSYXRlOiAwLjggYXMgYW55LFxuICAgICAgZGVlcERpc2NoYXJnZUZyZXF1ZW5jeTogXCJGcmVxdWVudFwiLFxuICAgICAgdXNhZ2VQYXR0ZXJuOiBcIkhlYXZ5XCIsXG4gICAgICBlbnZpcm9ubWVudGFsQ29uZGl0aW9uczogXCJWYXJpYWJsZVwiLFxuICAgICAgb3BlcmF0aW5nVGVtcGVyYXR1cmU6IDI4IGFzIGFueVxuICAgIH07XG5cbiAgICBjb25zdCBwYXR0ZXJuMzogVXNhZ2VQYXR0ZXJuID0ge1xuICAgICAgaWQ6IHRoaXMucGF0dGVybkN1cnJlbnRJZCsrLFxuICAgICAgYmF0dGVyeUlkOiAzLFxuICAgICAgY2hhcmdpbmdGcmVxdWVuY3k6IFwiV2Vla2x5XCIsXG4gICAgICBhdmVyYWdlRGlzY2hhcmdlUmF0ZTogMC4zIGFzIGFueSxcbiAgICAgIGRlZXBEaXNjaGFyZ2VGcmVxdWVuY3k6IFwiTmV2ZXJcIixcbiAgICAgIHVzYWdlUGF0dGVybjogXCJMaWdodFwiLFxuICAgICAgZW52aXJvbm1lbnRhbENvbmRpdGlvbnM6IFwiQ29udHJvbGxlZFwiLFxuICAgICAgb3BlcmF0aW5nVGVtcGVyYXR1cmU6IDIwIGFzIGFueVxuICAgIH07XG5cbiAgICBjb25zdCBwYXR0ZXJuNDogVXNhZ2VQYXR0ZXJuID0ge1xuICAgICAgaWQ6IHRoaXMucGF0dGVybkN1cnJlbnRJZCsrLFxuICAgICAgYmF0dGVyeUlkOiA0LFxuICAgICAgY2hhcmdpbmdGcmVxdWVuY3k6IFwiRXZlcnkgMS0yIGRheXNcIixcbiAgICAgIGF2ZXJhZ2VEaXNjaGFyZ2VSYXRlOiAwLjkgYXMgYW55LFxuICAgICAgZGVlcERpc2NoYXJnZUZyZXF1ZW5jeTogXCJWZXJ5IEZyZXF1ZW50XCIsXG4gICAgICB1c2FnZVBhdHRlcm46IFwiSGVhdnkgYW5kIElycmVndWxhclwiLFxuICAgICAgZW52aXJvbm1lbnRhbENvbmRpdGlvbnM6IFwiSGFyc2hcIixcbiAgICAgIG9wZXJhdGluZ1RlbXBlcmF0dXJlOiAzNSBhcyBhbnlcbiAgICB9O1xuXG4gICAgdGhpcy51c2FnZVBhdHRlcm5zLnNldChwYXR0ZXJuMS5pZCwgcGF0dGVybjEpO1xuICAgIHRoaXMudXNhZ2VQYXR0ZXJucy5zZXQocGF0dGVybjIuaWQsIHBhdHRlcm4yKTtcbiAgICB0aGlzLnVzYWdlUGF0dGVybnMuc2V0KHBhdHRlcm4zLmlkLCBwYXR0ZXJuMyk7XG4gICAgdGhpcy51c2FnZVBhdHRlcm5zLnNldChwYXR0ZXJuNC5pZCwgcGF0dGVybjQpO1xuXG4gICAgLy8gRXhhbXBsZSByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbjE6IFJlY29tbWVuZGF0aW9uID0ge1xuICAgICAgaWQ6IHRoaXMucmVjb21tZW5kYXRpb25DdXJyZW50SWQrKyxcbiAgICAgIGJhdHRlcnlJZDogMSxcbiAgICAgIHR5cGU6IFwibWFpbnRlbmFuY2VcIixcbiAgICAgIG1lc3NhZ2U6IFwiQ29uc2lkZXIgcmVjYWxpYnJhdGluZyBiYXR0ZXJ5IHNlbnNvcnMgZm9yIG9wdGltYWwgcGVyZm9ybWFuY2VcIixcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoXCIyMDI0LTA1LTAxXCIpIGFzIGFueSxcbiAgICAgIHJlc29sdmVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbjI6IFJlY29tbWVuZGF0aW9uID0ge1xuICAgICAgaWQ6IHRoaXMucmVjb21tZW5kYXRpb25DdXJyZW50SWQrKyxcbiAgICAgIGJhdHRlcnlJZDogMixcbiAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgbWVzc2FnZTogXCJSZWR1Y2UgZGVlcCBkaXNjaGFyZ2UgZnJlcXVlbmN5IHRvIGV4dGVuZCBiYXR0ZXJ5IGxpZmVcIixcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoXCIyMDI0LTA0LTE1XCIpIGFzIGFueSxcbiAgICAgIHJlc29sdmVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbjM6IFJlY29tbWVuZGF0aW9uID0ge1xuICAgICAgaWQ6IHRoaXMucmVjb21tZW5kYXRpb25DdXJyZW50SWQrKyxcbiAgICAgIGJhdHRlcnlJZDogMyxcbiAgICAgIHR5cGU6IFwiaW5mb1wiLFxuICAgICAgbWVzc2FnZTogXCJDdXJyZW50IHVzYWdlIHBhdHRlcm4gaXMgb3B0aW1hbCBmb3IgdGhpcyBiYXR0ZXJ5IHR5cGVcIixcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoXCIyMDI0LTA1LTEwXCIpIGFzIGFueSxcbiAgICAgIHJlc29sdmVkOiB0cnVlXG4gICAgfTtcblxuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uNDogUmVjb21tZW5kYXRpb24gPSB7XG4gICAgICBpZDogdGhpcy5yZWNvbW1lbmRhdGlvbkN1cnJlbnRJZCsrLFxuICAgICAgYmF0dGVyeUlkOiA0LFxuICAgICAgdHlwZTogXCJjcml0aWNhbFwiLFxuICAgICAgbWVzc2FnZTogXCJSZXBsYWNlIGJhdHRlcnkgd2l0aGluIDMwIGRheXMgLSBhcHByb2FjaGluZyBlbmQgb2YgdXNlZnVsIGxpZmVcIixcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoXCIyMDI0LTA0LTIwXCIpIGFzIGFueSxcbiAgICAgIHJlc29sdmVkOiBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLnJlY29tbWVuZGF0aW9ucy5zZXQocmVjb21tZW5kYXRpb24xLmlkLCByZWNvbW1lbmRhdGlvbjEpO1xuICAgIHRoaXMucmVjb21tZW5kYXRpb25zLnNldChyZWNvbW1lbmRhdGlvbjIuaWQsIHJlY29tbWVuZGF0aW9uMik7XG4gICAgdGhpcy5yZWNvbW1lbmRhdGlvbnMuc2V0KHJlY29tbWVuZGF0aW9uMy5pZCwgcmVjb21tZW5kYXRpb24zKTtcbiAgICB0aGlzLnJlY29tbWVuZGF0aW9ucy5zZXQocmVjb21tZW5kYXRpb240LmlkLCByZWNvbW1lbmRhdGlvbjQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRCYXR0ZXJ5SGlzdG9yaWNhbERhdGEoYmF0dGVyeUlkOiBudW1iZXIsIGluaXRpYWxIZWFsdGg6IG51bWJlciwgbW9udGhzOiBudW1iZXIpIHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGN1cnJlbnRIZWFsdGggPSBpbml0aWFsSGVhbHRoO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9udGhzOyBpKyspIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgICBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSAtIChtb250aHMgLSBpKSk7XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbWx5IGRlY3JlYXNlIGhlYWx0aCBvdmVyIHRpbWVcbiAgICAgIGN1cnJlbnRIZWFsdGggLT0gTWF0aC5yYW5kb20oKSAqIDM7XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbSB2YWx1ZXMgZm9yIHRoZSBoaXN0b3J5IGVudHJ5XG4gICAgICBjb25zdCB2b2x0YWdlID0gMy4yICsgTWF0aC5yYW5kb20oKSAqIDE7XG4gICAgICBjb25zdCB0ZW1wZXJhdHVyZSA9IDIwICsgTWF0aC5yYW5kb20oKSAqIDE1O1xuICAgICAgY29uc3QgY2hhcmdlTGV2ZWwgPSA1MCArIE1hdGgucmFuZG9tKCkgKiA1MDtcbiAgICAgIGNvbnN0IGN5Y2xlQ291bnQgPSBpICogMjtcbiAgICAgIFxuICAgICAgY29uc3QgaGlzdG9yeUVudHJ5OiBCYXR0ZXJ5SGlzdG9yeSA9IHtcbiAgICAgICAgaWQ6IHRoaXMuaGlzdG9yeUN1cnJlbnRJZCsrLFxuICAgICAgICBiYXR0ZXJ5SWQsXG4gICAgICAgIGRhdGU6IGRhdGUgYXMgYW55LFxuICAgICAgICBoZWFsdGg6IGN1cnJlbnRIZWFsdGggYXMgYW55LFxuICAgICAgICB2b2x0YWdlOiB2b2x0YWdlIGFzIGFueSxcbiAgICAgICAgdGVtcGVyYXR1cmU6IHRlbXBlcmF0dXJlIGFzIGFueSxcbiAgICAgICAgY2hhcmdlTGV2ZWw6IGNoYXJnZUxldmVsIGFzIGFueSxcbiAgICAgICAgY3ljbGVDb3VudFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgdGhpcy5iYXR0ZXJ5SGlzdG9yaWVzLnNldChoaXN0b3J5RW50cnkuaWQsIGhpc3RvcnlFbnRyeSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBtZW1TdG9yYWdlID0gbmV3IE1lbVN0b3JhZ2UoKTsiXSwibmFtZXMiOlsibmVvbiIsImRyaXp6bGUiLCJzY2hlbWEiLCJzcWwiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwiZGIiLCJNZW1TdG9yYWdlIiwiY29uc3RydWN0b3IiLCJ1c2VycyIsIk1hcCIsImJhdHRlcmllcyIsImJhdHRlcnlIaXN0b3JpZXMiLCJ1c2FnZVBhdHRlcm5zIiwicmVjb21tZW5kYXRpb25zIiwidXNlckN1cnJlbnRJZCIsImJhdHRlcnlDdXJyZW50SWQiLCJoaXN0b3J5Q3VycmVudElkIiwicGF0dGVybkN1cnJlbnRJZCIsInJlY29tbWVuZGF0aW9uQ3VycmVudElkIiwiaW5pdGlhbGl6ZURlbW9EYXRhIiwiZ2V0VXNlciIsImlkIiwiZ2V0IiwiZ2V0VXNlckJ5VXNlcm5hbWUiLCJ1c2VybmFtZSIsInVzZXIiLCJ2YWx1ZXMiLCJ1bmRlZmluZWQiLCJjcmVhdGVVc2VyIiwiaW5zZXJ0VXNlciIsInNldCIsImdldEJhdHRlcmllcyIsIkFycmF5IiwiZnJvbSIsImdldEJhdHRlcnkiLCJjcmVhdGVCYXR0ZXJ5IiwiaW5zZXJ0QmF0dGVyeSIsImJhdHRlcnkiLCJ1cGRhdGVCYXR0ZXJ5IiwiYmF0dGVyeVVwZGF0ZSIsImV4aXN0aW5nQmF0dGVyeSIsInVwZGF0ZWRCYXR0ZXJ5IiwiZGVsZXRlQmF0dGVyeSIsImRlbGV0ZSIsImdldEJhdHRlcnlIaXN0b3J5IiwiYmF0dGVyeUlkIiwicmVzdWx0IiwiaGlzdG9yeSIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiZGF0ZSIsImdldFRpbWUiLCJnZXRCYXR0ZXJ5SGlzdG9yeUZpbHRlcmVkIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImhpc3RvcnlEYXRlIiwiY3JlYXRlQmF0dGVyeUhpc3RvcnkiLCJpbnNlcnRIaXN0b3J5IiwiZ2V0VXNhZ2VQYXR0ZXJuIiwicGF0dGVybiIsImNyZWF0ZVVzYWdlUGF0dGVybiIsImluc2VydFBhdHRlcm4iLCJ1cGRhdGVVc2FnZVBhdHRlcm4iLCJwYXR0ZXJuVXBkYXRlIiwiZXhpc3RpbmdQYXR0ZXJuIiwidXBkYXRlZFBhdHRlcm4iLCJnZXRSZWNvbW1lbmRhdGlvbnMiLCJyZWNvbW1lbmRhdGlvbiIsImNyZWF0ZVJlY29tbWVuZGF0aW9uIiwiaW5zZXJ0UmVjb21tZW5kYXRpb24iLCJjcmVhdGVkQXQiLCJyZXNvbHZlZCIsInVwZGF0ZVJlY29tbWVuZGF0aW9uIiwiZXhpc3RpbmdSZWNvbW1lbmRhdGlvbiIsInVwZGF0ZWRSZWNvbW1lbmRhdGlvbiIsImJhdHRlcnkxIiwibmFtZSIsInNlcmlhbE51bWJlciIsIm1hbnVmYWN0dXJlciIsIm1vZGVsIiwidHlwZSIsImNhcGFjaXR5IiwicHVyY2hhc2VEYXRlIiwiY3VycmVudEhlYWx0aCIsInN0YXR1cyIsImxhc3RDaGFyZ2VkIiwiY3ljbGVDb3VudCIsInZvbHRhZ2VOb21pbmFsIiwiaW1hZ2UiLCJsb2NhdGlvbiIsImJhdHRlcnkyIiwiYmF0dGVyeTMiLCJiYXR0ZXJ5NCIsImFkZEJhdHRlcnlIaXN0b3JpY2FsRGF0YSIsInBhdHRlcm4xIiwiY2hhcmdpbmdGcmVxdWVuY3kiLCJhdmVyYWdlRGlzY2hhcmdlUmF0ZSIsImRlZXBEaXNjaGFyZ2VGcmVxdWVuY3kiLCJ1c2FnZVBhdHRlcm4iLCJlbnZpcm9ubWVudGFsQ29uZGl0aW9ucyIsIm9wZXJhdGluZ1RlbXBlcmF0dXJlIiwicGF0dGVybjIiLCJwYXR0ZXJuMyIsInBhdHRlcm40IiwicmVjb21tZW5kYXRpb24xIiwibWVzc2FnZSIsInJlY29tbWVuZGF0aW9uMiIsInJlY29tbWVuZGF0aW9uMyIsInJlY29tbWVuZGF0aW9uNCIsImluaXRpYWxIZWFsdGgiLCJtb250aHMiLCJ0b2RheSIsImkiLCJzZXRNb250aCIsImdldE1vbnRoIiwiTWF0aCIsInJhbmRvbSIsInZvbHRhZ2UiLCJ0ZW1wZXJhdHVyZSIsImNoYXJnZUxldmVsIiwiaGlzdG9yeUVudHJ5IiwiaGVhbHRoIiwibWVtU3RvcmFnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/schema.ts":
/*!******************************!*\
  !*** ./src/lib/db/schema.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   batteries: () => (/* binding */ batteries),\n/* harmony export */   batteryHistory: () => (/* binding */ batteryHistory),\n/* harmony export */   insertBatteryHistorySchema: () => (/* binding */ insertBatteryHistorySchema),\n/* harmony export */   insertBatterySchema: () => (/* binding */ insertBatterySchema),\n/* harmony export */   insertRecommendationSchema: () => (/* binding */ insertRecommendationSchema),\n/* harmony export */   insertUsagePatternSchema: () => (/* binding */ insertUsagePatternSchema),\n/* harmony export */   insertUserSchema: () => (/* binding */ insertUserSchema),\n/* harmony export */   recommendations: () => (/* binding */ recommendations),\n/* harmony export */   usagePatterns: () => (/* binding */ usagePatterns),\n/* harmony export */   users: () => (/* binding */ users)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/serial.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-zod */ \"(rsc)/./node_modules/drizzle-zod/index.mjs\");\n\n\n// Users table\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    username: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"username\").notNull().unique(),\n    password: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"password\").notNull()\n});\nconst insertUserSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(users).pick({\n    username: true,\n    password: true\n});\n// Batteries table\nconst batteries = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"batteries\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"name\").notNull(),\n    serialNumber: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"serial_number\").notNull(),\n    manufacturer: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"manufacturer\").notNull(),\n    model: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"model\").notNull(),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"type\").notNull(),\n    capacity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"capacity\").notNull(),\n    purchaseDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.timestamp)(\"purchase_date\").notNull(),\n    currentHealth: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"current_health\").notNull(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"status\").notNull(),\n    lastCharged: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.timestamp)(\"last_charged\").notNull(),\n    cycleCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"cycle_count\").notNull(),\n    voltageNominal: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"voltage_nominal\").notNull(),\n    image: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"image\"),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"location\")\n});\nconst insertBatterySchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(batteries).omit({\n    id: true\n});\n// Battery history table\nconst batteryHistory = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"battery_history\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    batteryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"battery_id\").notNull().references(()=>batteries.id),\n    date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.timestamp)(\"date\").notNull(),\n    health: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"health\").notNull(),\n    voltage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"voltage\").notNull(),\n    temperature: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"temperature\").notNull(),\n    chargeLevel: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"charge_level\").notNull(),\n    cycleCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"cycle_count\").notNull()\n});\nconst insertBatteryHistorySchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(batteryHistory).omit({\n    id: true\n});\n// Usage patterns table\nconst usagePatterns = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"usage_patterns\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    batteryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"battery_id\").notNull().references(()=>batteries.id),\n    chargingFrequency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"charging_frequency\").notNull(),\n    averageDischargeRate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"average_discharge_rate\").notNull(),\n    deepDischargeFrequency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"deep_discharge_frequency\").notNull(),\n    usagePattern: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"usage_pattern\").notNull(),\n    environmentalConditions: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"environmental_conditions\").notNull(),\n    operatingTemperature: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.decimal)(\"operating_temperature\").notNull()\n});\nconst insertUsagePatternSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(usagePatterns).omit({\n    id: true\n});\n// Recommendations table\nconst recommendations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"recommendations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    batteryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.integer)(\"battery_id\").notNull().references(()=>batteries.id),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"type\").notNull(),\n    message: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"message\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.timestamp)(\"created_at\").notNull().defaultNow(),\n    resolved: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.boolean)(\"resolved\").notNull().default(false)\n});\nconst insertRecommendationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(recommendations).omit({\n    id: true,\n    createdAt: true\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87SUFDaEVtQyxjQUFjN0MseURBQUlBLENBQUMsaUJBQWlCVSxPQUFPO0lBQzNDb0MseUJBQXlCOUMseURBQUlBLENBQUMsNEJBQTRCVSxPQUFPO0lBQ2pFcUMsc0JBQXNCM0MsNERBQU9BLENBQUMseUJBQXlCTSxPQUFPO0FBQ2hFLEdBQUc7QUFFSSxNQUFNc0MsMkJBQTJCM0MsK0RBQWtCQSxDQUFDb0MsZUFBZVYsSUFBSSxDQUFDO0lBQzdFeEIsSUFBSTtBQUNOLEdBQUc7QUFLSCx3QkFBd0I7QUFDakIsTUFBTTBDLGtCQUFrQm5ELDREQUFPQSxDQUFDLG1CQUFtQjtJQUN4RFMsSUFBSVIsMkRBQU1BLENBQUMsTUFBTVMsVUFBVTtJQUMzQnlCLFdBQVc5Qiw0REFBT0EsQ0FBQyxjQUFjTyxPQUFPLEdBQUd3QixVQUFVLENBQUMsSUFBTW5CLFVBQVVSLEVBQUU7SUFDeEVhLE1BQU1wQix5REFBSUEsQ0FBQyxRQUFRVSxPQUFPO0lBQzFCd0MsU0FBU2xELHlEQUFJQSxDQUFDLFdBQVdVLE9BQU87SUFDaEN5QyxXQUFXbEQsOERBQVNBLENBQUMsY0FBY1MsT0FBTyxHQUFHMEMsVUFBVTtJQUN2REMsVUFBVW5ELDREQUFPQSxDQUFDLFlBQVlRLE9BQU8sR0FBRzRDLE9BQU8sQ0FBQztBQUNsRCxHQUFHO0FBRUksTUFBTUMsNkJBQTZCbEQsK0RBQWtCQSxDQUFDNEMsaUJBQWlCbEIsSUFBSSxDQUFDO0lBQ2pGeEIsSUFBSTtJQUNKNEMsV0FBVztBQUNiLEdBQUciLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2xpYi9kYi9zY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGdUYWJsZSwgc2VyaWFsLCB0ZXh0LCB0aW1lc3RhbXAsIGJvb2xlYW4sIGludGVnZXIsIGRlY2ltYWwgfSBmcm9tIFwiZHJpenpsZS1vcm0vcGctY29yZVwiO1xuaW1wb3J0IHsgY3JlYXRlSW5zZXJ0U2NoZW1hIH0gZnJvbSBcImRyaXp6bGUtem9kXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBVc2VycyB0YWJsZVxuZXhwb3J0IGNvbnN0IHVzZXJzID0gcGdUYWJsZShcInVzZXJzXCIsIHtcbiAgaWQ6IHNlcmlhbChcImlkXCIpLnByaW1hcnlLZXkoKSxcbiAgdXNlcm5hbWU6IHRleHQoXCJ1c2VybmFtZVwiKS5ub3ROdWxsKCkudW5pcXVlKCksXG4gIHBhc3N3b3JkOiB0ZXh0KFwicGFzc3dvcmRcIikubm90TnVsbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRVc2VyU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHVzZXJzKS5waWNrKHtcbiAgdXNlcm5hbWU6IHRydWUsXG4gIHBhc3N3b3JkOiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydFVzZXIgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRVc2VyU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFVzZXIgPSB0eXBlb2YgdXNlcnMuJGluZmVyU2VsZWN0O1xuXG4vLyBCYXR0ZXJpZXMgdGFibGVcbmV4cG9ydCBjb25zdCBiYXR0ZXJpZXMgPSBwZ1RhYmxlKFwiYmF0dGVyaWVzXCIsIHtcbiAgaWQ6IHNlcmlhbChcImlkXCIpLnByaW1hcnlLZXkoKSxcbiAgbmFtZTogdGV4dChcIm5hbWVcIikubm90TnVsbCgpLFxuICBzZXJpYWxOdW1iZXI6IHRleHQoXCJzZXJpYWxfbnVtYmVyXCIpLm5vdE51bGwoKSxcbiAgbWFudWZhY3R1cmVyOiB0ZXh0KFwibWFudWZhY3R1cmVyXCIpLm5vdE51bGwoKSxcbiAgbW9kZWw6IHRleHQoXCJtb2RlbFwiKS5ub3ROdWxsKCksXG4gIHR5cGU6IHRleHQoXCJ0eXBlXCIpLm5vdE51bGwoKSxcbiAgY2FwYWNpdHk6IGRlY2ltYWwoXCJjYXBhY2l0eVwiKS5ub3ROdWxsKCksXG4gIHB1cmNoYXNlRGF0ZTogdGltZXN0YW1wKFwicHVyY2hhc2VfZGF0ZVwiKS5ub3ROdWxsKCksXG4gIGN1cnJlbnRIZWFsdGg6IGRlY2ltYWwoXCJjdXJyZW50X2hlYWx0aFwiKS5ub3ROdWxsKCksXG4gIHN0YXR1czogdGV4dChcInN0YXR1c1wiKS5ub3ROdWxsKCksXG4gIGxhc3RDaGFyZ2VkOiB0aW1lc3RhbXAoXCJsYXN0X2NoYXJnZWRcIikubm90TnVsbCgpLFxuICBjeWNsZUNvdW50OiBpbnRlZ2VyKFwiY3ljbGVfY291bnRcIikubm90TnVsbCgpLFxuICB2b2x0YWdlTm9taW5hbDogZGVjaW1hbChcInZvbHRhZ2Vfbm9taW5hbFwiKS5ub3ROdWxsKCksXG4gIGltYWdlOiB0ZXh0KFwiaW1hZ2VcIiksXG4gIGxvY2F0aW9uOiB0ZXh0KFwibG9jYXRpb25cIiksXG59KTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEJhdHRlcnlTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoYmF0dGVyaWVzKS5vbWl0KHtcbiAgaWQ6IHRydWUsXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0QmF0dGVyeSA9IHouaW5mZXI8dHlwZW9mIGluc2VydEJhdHRlcnlTY2hlbWE+O1xuZXhwb3J0IHR5cGUgQmF0dGVyeSA9IHR5cGVvZiBiYXR0ZXJpZXMuJGluZmVyU2VsZWN0O1xuXG4vLyBCYXR0ZXJ5IGhpc3RvcnkgdGFibGVcbmV4cG9ydCBjb25zdCBiYXR0ZXJ5SGlzdG9yeSA9IHBnVGFibGUoXCJiYXR0ZXJ5X2hpc3RvcnlcIiwge1xuICBpZDogc2VyaWFsKFwiaWRcIikucHJpbWFyeUtleSgpLFxuICBiYXR0ZXJ5SWQ6IGludGVnZXIoXCJiYXR0ZXJ5X2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGJhdHRlcmllcy5pZCksXG4gIGRhdGU6IHRpbWVzdGFtcChcImRhdGVcIikubm90TnVsbCgpLFxuICBoZWFsdGg6IGRlY2ltYWwoXCJoZWFsdGhcIikubm90TnVsbCgpLFxuICB2b2x0YWdlOiBkZWNpbWFsKFwidm9sdGFnZVwiKS5ub3ROdWxsKCksXG4gIHRlbXBlcmF0dXJlOiBkZWNpbWFsKFwidGVtcGVyYXR1cmVcIikubm90TnVsbCgpLFxuICBjaGFyZ2VMZXZlbDogZGVjaW1hbChcImNoYXJnZV9sZXZlbFwiKS5ub3ROdWxsKCksXG4gIGN5Y2xlQ291bnQ6IGludGVnZXIoXCJjeWNsZV9jb3VudFwiKS5ub3ROdWxsKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEJhdHRlcnlIaXN0b3J5U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGJhdHRlcnlIaXN0b3J5KS5vbWl0KHtcbiAgaWQ6IHRydWUsXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0QmF0dGVyeUhpc3RvcnkgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCYXR0ZXJ5SGlzdG9yeVNjaGVtYT47XG5leHBvcnQgdHlwZSBCYXR0ZXJ5SGlzdG9yeSA9IHR5cGVvZiBiYXR0ZXJ5SGlzdG9yeS4kaW5mZXJTZWxlY3Q7XG5cbi8vIFVzYWdlIHBhdHRlcm5zIHRhYmxlXG5leHBvcnQgY29uc3QgdXNhZ2VQYXR0ZXJucyA9IHBnVGFibGUoXCJ1c2FnZV9wYXR0ZXJuc1wiLCB7XG4gIGlkOiBzZXJpYWwoXCJpZFwiKS5wcmltYXJ5S2V5KCksXG4gIGJhdHRlcnlJZDogaW50ZWdlcihcImJhdHRlcnlfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYmF0dGVyaWVzLmlkKSxcbiAgY2hhcmdpbmdGcmVxdWVuY3k6IHRleHQoXCJjaGFyZ2luZ19mcmVxdWVuY3lcIikubm90TnVsbCgpLFxuICBhdmVyYWdlRGlzY2hhcmdlUmF0ZTogZGVjaW1hbChcImF2ZXJhZ2VfZGlzY2hhcmdlX3JhdGVcIikubm90TnVsbCgpLFxuICBkZWVwRGlzY2hhcmdlRnJlcXVlbmN5OiB0ZXh0KFwiZGVlcF9kaXNjaGFyZ2VfZnJlcXVlbmN5XCIpLm5vdE51bGwoKSxcbiAgdXNhZ2VQYXR0ZXJuOiB0ZXh0KFwidXNhZ2VfcGF0dGVyblwiKS5ub3ROdWxsKCksXG4gIGVudmlyb25tZW50YWxDb25kaXRpb25zOiB0ZXh0KFwiZW52aXJvbm1lbnRhbF9jb25kaXRpb25zXCIpLm5vdE51bGwoKSxcbiAgb3BlcmF0aW5nVGVtcGVyYXR1cmU6IGRlY2ltYWwoXCJvcGVyYXRpbmdfdGVtcGVyYXR1cmVcIikubm90TnVsbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRVc2FnZVBhdHRlcm5TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEodXNhZ2VQYXR0ZXJucykub21pdCh7XG4gIGlkOiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydFVzYWdlUGF0dGVybiA9IHouaW5mZXI8dHlwZW9mIGluc2VydFVzYWdlUGF0dGVyblNjaGVtYT47XG5leHBvcnQgdHlwZSBVc2FnZVBhdHRlcm4gPSB0eXBlb2YgdXNhZ2VQYXR0ZXJucy4kaW5mZXJTZWxlY3Q7XG5cbi8vIFJlY29tbWVuZGF0aW9ucyB0YWJsZVxuZXhwb3J0IGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IHBnVGFibGUoXCJyZWNvbW1lbmRhdGlvbnNcIiwge1xuICBpZDogc2VyaWFsKFwiaWRcIikucHJpbWFyeUtleSgpLFxuICBiYXR0ZXJ5SWQ6IGludGVnZXIoXCJiYXR0ZXJ5X2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGJhdHRlcmllcy5pZCksXG4gIHR5cGU6IHRleHQoXCJ0eXBlXCIpLm5vdE51bGwoKSxcbiAgbWVzc2FnZTogdGV4dChcIm1lc3NhZ2VcIikubm90TnVsbCgpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgcmVzb2x2ZWQ6IGJvb2xlYW4oXCJyZXNvbHZlZFwiKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFJlY29tbWVuZGF0aW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHJlY29tbWVuZGF0aW9ucykub21pdCh7XG4gIGlkOiB0cnVlLFxuICBjcmVhdGVkQXQ6IHRydWUsXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0UmVjb21tZW5kYXRpb24gPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRSZWNvbW1lbmRhdGlvblNjaGVtYT47XG5leHBvcnQgdHlwZSBSZWNvbW1lbmRhdGlvbiA9IHR5cGVvZiByZWNvbW1lbmRhdGlvbnMuJGluZmVyU2VsZWN0OyJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwic2VyaWFsIiwidGV4dCIsInRpbWVzdGFtcCIsImJvb2xlYW4iLCJpbnRlZ2VyIiwiZGVjaW1hbCIsImNyZWF0ZUluc2VydFNjaGVtYSIsInVzZXJzIiwiaWQiLCJwcmltYXJ5S2V5IiwidXNlcm5hbWUiLCJub3ROdWxsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJpbnNlcnRVc2VyU2NoZW1hIiwicGljayIsImJhdHRlcmllcyIsIm5hbWUiLCJzZXJpYWxOdW1iZXIiLCJtYW51ZmFjdHVyZXIiLCJtb2RlbCIsInR5cGUiLCJjYXBhY2l0eSIsInB1cmNoYXNlRGF0ZSIsImN1cnJlbnRIZWFsdGgiLCJzdGF0dXMiLCJsYXN0Q2hhcmdlZCIsImN5Y2xlQ291bnQiLCJ2b2x0YWdlTm9taW5hbCIsImltYWdlIiwibG9jYXRpb24iLCJpbnNlcnRCYXR0ZXJ5U2NoZW1hIiwib21pdCIsImJhdHRlcnlIaXN0b3J5IiwiYmF0dGVyeUlkIiwicmVmZXJlbmNlcyIsImRhdGUiLCJoZWFsdGgiLCJ2b2x0YWdlIiwidGVtcGVyYXR1cmUiLCJjaGFyZ2VMZXZlbCIsImluc2VydEJhdHRlcnlIaXN0b3J5U2NoZW1hIiwidXNhZ2VQYXR0ZXJucyIsImNoYXJnaW5nRnJlcXVlbmN5IiwiYXZlcmFnZURpc2NoYXJnZVJhdGUiLCJkZWVwRGlzY2hhcmdlRnJlcXVlbmN5IiwidXNhZ2VQYXR0ZXJuIiwiZW52aXJvbm1lbnRhbENvbmRpdGlvbnMiLCJvcGVyYXRpbmdUZW1wZXJhdHVyZSIsImluc2VydFVzYWdlUGF0dGVyblNjaGVtYSIsInJlY29tbWVuZGF0aW9ucyIsIm1lc3NhZ2UiLCJjcmVhdGVkQXQiLCJkZWZhdWx0Tm93IiwicmVzb2x2ZWQiLCJkZWZhdWx0IiwiaW5zZXJ0UmVjb21tZW5kYXRpb25TY2hlbWEiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/schema.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/drizzle-orm","vendor-chunks/zod","vendor-chunks/drizzle-zod","vendor-chunks/@neondatabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbatteries%2Froute&page=%2Fapi%2Fbatteries%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbatteries%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();